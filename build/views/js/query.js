const pretty=new pp,SubOrNot=()=>(!1===_PARAMS.admin&&subentityOption.value!==_NONE?subentityOption:entityOption).value,isObservation=()=>"Observations"==entityOption.value||"Observations"==subentityOption.value,isLog=()=>"logs"===resultFormatOption.value,testNull=t=>"<empty string>"==t.value||""==t.value.trim()||"0"==t.value.trim()[0]||t.value.startsWith(_NONE);function setChecked(t,e){t=getElement(t);t&&(t.checked=e)}function getIfChecked(t){t=getElement(t);return!!t&&!0===t.checked}function getIfId(t){return 0<Number(nb.value)}function getDefaultValue(t,e){return""!=t.value&&e.includes(t.value)?t.value:e[0]}function getFormatOptions(){var t=importFile?["json"]:["json","csv","txt","dataArray","sql"];return!isObservation()&&"graph"!=resultFormatOption.value||(t.push("graph"),t.push("graphDatas")),"Logs"===entityOption.value&&t.push("logs"),t}function tabEnabledDisabled(t,e){t="string"==typeof t?document.getElementsByName(t)[0]:t;void 0!==t&&null!=t&&(!0===e?t.removeAttribute("disabled"):(t.setAttribute("disabled",""),t.checked=!1))}function canShowQueryButton(){EnabledOrDisabled([go,btnShowLinks],!(!testNull(subentityOption)&&testNull(idOption)))}function buttonGo(){(!0===importFile?(hide(go),show):(show(go),canShowQueryButton(),hide))(submit)}async function editDataClicked(t,e){var i=e.seriesName,e=e.name,t=`${optHost.value}/${optVersion.value}/Observations(${t})`,t=await(await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}})).json();new Prompt({title:"Editing  "+i,submitText:"Valid",content:"date : "+e,placeholderText:"object"==typeof t.result?""+t.result[i]:""+t.result})}function createOptionsLine(){var t,e=[];for(t in listOptions)e.push("$"+t+"="+listOptions[t]);return e.join("&")}function ToggleOption(t,e,i,n){t?addOption(e,i,n):delete listOptions[e]}var addOption=function(t,e,i){i&&e.toUpperCase()===i||!e||""===e||"<empty string>"===e?delete listOptions[t]:listOptions[t]=e,queryOptions.value=createOptionsLine()},deleteOption=function(t){delete listOptions[t],queryOptions.value=createOptionsLine()};function clear(){entityOption.value=_NONE,subentityOption.value=_NONE,topOption.value=0,skipOption.value=0,idOption.value=0,resultFormatOption.value="JSON",methodOption.value="GET"}function init(){header("==== Init ===="),hide(datas),isAdmin="admin"===_PARAMS.decodedUrl.service,isDebug,new SplitterBar(container,first,two),wait(!1);var t=_PARAMS.entity||!0===isAdmin?"Configs":"Things",e=(populateSelect(entityOption,getEntityList(),t),getRelationsList(t));header("==== ICI ===="),populateSelect(subentityOption,e,e.includes(_PARAMS.subentityOption)?_PARAMS.subentityOption:_NONE,!0),populateSelect(entityOption,Object.keys(_PARAMS._DATAS),t),populateSelect(services,Object.keys(_PARAMS.services),_PARAMS.decodedUrl.root.split("/").pop()),populateSelect(methodOption,"Loras"==entityOption.value?["GET","POST"]:_PARAMS.methods,_PARAMS.method||"GET"),idOption.value=_PARAMS.decodedUrl.idStr|_PARAMS.decodedUrl.id,refresh(),optVersion.value=_PARAMS.decodedUrl.version,optHost.value=_PARAMS.decodedUrl.linkbase,_PARAMS.datas&&(datas.json_value=_PARAMS.datas),queryOptions.value=_PARAMS.options,window.location.href.includes("Query?")&&decodeUrl(window.location.href),jsonViewer=new JSONViewer}init();