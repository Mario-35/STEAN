const expandData={num:{type:"num",match:/(\.e?|\b)\d(e-|[\d.oxa-fA-F_])*(\.|\b)/g},str:{type:"str",match:/(["'])(\\[^]|(?!\1)[^\r\n\\])*\1?/g},strDouble:{type:"str",match:/"((?!")[^\r\n\\]|\\[^])*"?/g}},langs={},sanitize=(t="")=>t.replaceAll("&","&#38;").replaceAll?.("<","&lt;").replaceAll?.(">","&gt;"),toSpan=(t,e)=>e?`<span class="shj-syn-${e}">${t}</span>`:t;function tokenize(a,i,l){try{let t;var s,h;let e={};var c=[];let n=0;for(var r="string"==typeof i?langs[i]??=highLightLangs[i]:i,p=[..."string"==typeof i?r:r.sub];n<a.length;){for(e.index=null,t=p.length;0<t--;){if(s=p[t].expand?expandData[p[t].expand]:p[t],void 0===c[t]||c[t].match.index<n){if(s.match.lastIndex=n,null===(h=s.match.exec(a))){p.splice(t,1),c.splice(t,1);continue}c[t]={match:h,lastIndex:s.match.lastIndex}}c[t].match[0]&&(c[t].match.index<=e.index||null===e.index)&&(e={part:s,index:c[t].match.index,match:c[t].match[0],end:c[t].lastIndex})}if(null===e.index)break;l(a.slice(n,e.index),r.type),n=e.end,e.part.sub?tokenize(e.match,"string"==typeof e.part.sub?e.part.sub:"function"==typeof e.part.sub?e.part.sub(e.match):e.part,l):l(e.match,e.part.type)}l(a.slice(n,a.length),r.type)}catch(t){l(a)}}function highlightText(t,e,n=0){let a="";return tokenize(t,e,(t,e)=>a+=toSpan(sanitize(t),e)),a}function highlightElement(t,e,n,a){e=e||t.textContent;t.dataset.lang=n,t.className=[...t.classList].filter(t=>!t.startsWith("shj-")||t.startsWith("shj-mode-")).join(" ")+` shj-lang-${n} shj-multiline`,t.innerHTML=highlightText(e,n,a)}