var themes={common:{"font-size":"14px","font-size-half":"7px","font-size-2":"12px","font-size+2":"16px","btn-gray-color":"#eceff1","btn-gray-border":"#546e7a","btn-gray-hover-border":"#78909c","btn-gray-disabled-background":"#b0bec5","btn-gray-disabled-border":"#90a4ae","btn-gray-background":"#78909c","btn-gray-hover-color":"#fff","btn-gray-hover-background":"#90a4ae","btn-gray-active-border":"#546e7a","btn-gray-active-color":"#cfd8dc","btn-gray-active-background":"#546e7a","btn-primary-border":"#1e88e5","btn-primary-hover-border":"#42a5f5","btn-primary-disabled-background":"#90caf9","btn-primary-disabled-border":"#64b5f6","btn-primary-color":"#e3f2fd","btn-primary-background":"#42a5f5","btn-primary-hover-color":"#fff","btn-primary-hover-background":"#64b5f6","btn-primary-active-border":"#1e88e5","btn-primary-active-color":"#bbdefb","btn-primary-active-background":"#1e88e5","btn-success-border":"#43A047","btn-success-hover-border":"#66BB6A","btn-success-disabled-background":"#A5D6A7","btn-success-disabled-border":"#81C784","btn-success-color":"#E8F5E9","btn-success-background":"#66BB6A","btn-success-hover-color":"#fff","btn-success-hover-background":"#81C784","btn-success-active-border":"#43A047","btn-success-active-color":"#C8E6C9","btn-success-active-background":"#43A047","btn-info-border":"#00ACC1","btn-info-hover-border":"#26C6DA","btn-info-disabled-background":"#80DEEA","btn-info-disabled-border":"#4DD0E1","btn-info-color":"#E0F7FA","btn-info-background":"#26C6DA","btn-info-hover-color":"#fff","btn-info-hover-background":"#4DD0E1","btn-info-active-border":"#00ACC1","btn-info-active-color":"#B2EBF2","btn-info-active-background":"#00ACC1","btn-warning-border":"#FB8C00","btn-warning-hover-border":"#FFA726","btn-warning-disabled-background":"#FFCC80","btn-warning-disabled-border":"#FFB74D","btn-warning-color":"#FFF3E0","btn-warning-background":"#FFA726","btn-warning-hover-color":"#fff","btn-warning-hover-background":"#FFB74D","btn-warning-active-border":"#FB8C00","btn-warning-active-color":"#FFE0B2","btn-warning-active-background":"#FB8C00","btn-danger-border":"#F4511E","btn-danger-hover-border":"#FF7043","btn-danger-disabled-background":"#FFAB91","btn-danger-disabled-border":"#FF8A65","btn-danger-color":"#FBE9E7","btn-danger-background":"#FF7043","btn-danger-hover-color":"#fff","btn-danger-hover-background":"#FF8A65","btn-danger-active-border":"#F4511E","btn-danger-active-color":"#FFCCBC","btn-danger-active-background":"#F4511E"},light:{"text-color":"#000","button-border":"#cccccc","content-color":"#454545","button-hover":"#208103","select-box-shadow":"#949696","select-border-top":"#fff","body-background":"#dfe2e2","background-color":"#e5e9e8","background-color-disabled":"#ffe1e1","background-color-hover":"#f9c62a70","content-background":"#e1e6e6","border-focus":"#0036ff","background-highlight":"#288edf","background-highlight-hover":"#4ca1e4","select-background":"#DDE1E1","input-background":"#fff","invalid-colour":"#ec514e","color-active":"#0772c3","color-hover":"#29a0fa","json-number":"#073aff","json-code":"#8e08a0","json-url":"#DD2E2E","json-string":"#116408","json-date":"#CB7500"},dark:{"text-color":"#fff","button-border":"#6b6767","select-box-shadow":"#303233","select-border-top":"#666767","content-color":"#c6c8c8","button-hover":"#208103","body-background":"#4b4d4e","background-color":"#595b5b","background-color-odd":"#7e8080","background-color-disabled":"#685757","background-color-hover":"#288edf","content-background":"#444949","border-focus":"#0036ff","background-highlight":"#288edf","background-highlight-hover":"#4ca1e4","select-background":"#595B5B","input-background":"#454646","invalid-colour":"#ec514e","color-active":"#1e7dc8","color-hover":"#4ca1e4","json-number":"#0cbde6","json-code":"#de9ae7","json-url":"#F0A1A1","json-string":"#B7E4B2","json-date":"#CB7500"}};function setTheme(e){localStorage.setItem("theme",e),document.documentElement.className=e}function toggleTheme(){"theme-dark"===localStorage.getItem("theme")?setTheme("theme-light"):setTheme("theme-dark")}fileone.addEventListener("change",function(e){var t="";try{(t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?fileonelabel.querySelector("span").innerHTML=t:fileonelabel.innerHTML=labelVal}catch(e){notifyError("Error",e)}finally{buttonGo()}}),"theme-dark"===localStorage.getItem("theme")?(setTheme("theme-dark"),document.getElementById("theme").checked=!1):(setTheme("theme-light"),document.getElementById("theme").checked=!0);class PatromMultiSelect{constructor(e){this.select=e,this.select.multiple=!0,this.select.style.display="none",this.settings=this._getSettings(e),this.select.datas={};e="patrom-";this.class={prefix:e+"multi-select",rootContainer:e+"multi-select-container",logger:"logger",list:e+"multi-select"},this.data={},this.create(),this.log()}_getSettings(e){for(var t,n={},r={width:"auto",height:themes.common["font-size+2"],appendTo:"__auto__",className:"",placeholder:e.placeholder||"",selectAll:!!e.attributes.selectall,orderby:!!e.attributes.orderby},i=Object.keys(r),s=i.length,o=0;o<s;o++)(t=i[o])&&void 0!==n[t]||(n[t]=r[t]);return n}_setpixel(e){if(e)return isNaN(e)?e:e+"px"}_getTarget(e){e="__auto__"==e&&this.select.parentElement?this.select.parentElement:document.querySelector(this.settings.appendTo);return e}create(){var n=this,e=this._getTarget(this.settings.appendTo),t=document.createElement("DIV");t.className=this.class.rootContainer,t.classList.add("full"),t.id=this.class.prefix+(document.querySelectorAll("."+this.class.rootContainer).length+1),this._getThemeElements(t),this._getCommonElems(t),this.container=t,e.contains(this.select)?e.insertBefore(t,this.select):e.appendChild(t),document.addEventListener("click",function(e){var t="closeBtn"===e.target.className;n.list.classList.add("scrollbar-width-thin"),n.container.contains(e.target)||t||(n.list.classList.add("hidden"),n.logger.classList.remove("open"))})}setValue(e=[],t){if(e.length){for(var n,r,i,s=this.select.children.length,o=(e.length,this._getSearchableLi(this.list)),a=0;a<s;a++)for(i=0;i<e.length;i++)if(n=this.select.children[a],r=e[i],n.value==r){n.selected=!0,r=o[a],!0===this.settings.orderby&&n.setAttribute("orderBy",r.children[0].getAttribute("order")),r.children[0].checked=!0,r.classList.add("active"),this.data[a]=!0,t&&"function"==typeof this.settings.onChange&&this.settings.onChange(!0,n.value,this);break}this.log()}}removeValue(e=[],t=!1){if(e.length){for(var n,r,i,s=this.select.children.length,o=e.length,a=this._getSearchableLi(this.list),l=0;l<s;l++)for(i=0;i<o;i++)if(n=this.select.children[l],r=e[i],n.value==r){n.selected=!1,(r=a[l]).children[0].checked=!1,r.classList.remove("active"),this.data[l]=!1,t&&"function"==typeof this.settings.onChange&&this.settings.onChange(!1,n.value,this);break}this.log()}}log(){for(var e,t,n,r=this,i=r.logger,s=(i.innerHTML="",""),o=this.select.children.length,a=0;a<o;a++)e=this.select.children[a],this.data[a]&&((t=document.createElement("label")).className="selectedLabels",t.innerHTML=e.innerText,(n=document.createElement("span")).className="closeBtn",n.innerHTML="&#10005;",n.dataset.id=e.value,n.addEventListener("click",function(e){e.stopPropagation(),r.removeValue([e.target.dataset.id],!0)}),t.appendChild(n),i.appendChild(t),s+=s?","+e.innerText:e.innerText);this.logger.dataset.value=s}getData(){for(var e=[],t=this.select.children.length,n=0;n<t;n++)this.select.children[n].selected&&e.push(!0===this.settings.orderby?""+this.select.children[n].value+(this.select.children[n].attributes&&this.select.children[n].attributes.orderby&&this.select.children[n].attributes.orderby.value?" "+this.select.children[n].attributes.orderby.value:""):this.select.children[n].value);return e}selectAll(e=!1){for(var t=[],n=this.list.querySelectorAll("label:not(.hidden) li:not(.ignore) input"),r=n.length,i=0;i<r;i++)t.push(n[i].value);e?this.setValue(t):this.removeValue(t),"function"==typeof this.settings.afterSelectAll&&this.settings.afterSelectAll(e,t,this)}loadSourceArray(e=[]){if(e.length){this.select.innerHTML="";for(var t,n=e.length,r=0;r<n;r++)(t=document.createElement("OPTION")).value=e[r],t.innerHTML=e[r],t.selected=!1,this.select.appendChild(t);this.reload()}}loadSource(e=[]){if(e.length){this.select.innerHTML="";for(var t,n,r=e.length,i=0;i<r;i++)n=e[i],(t=document.createElement("OPTION")).value=n.value,t.innerHTML=n.caption,t.selected=n.selected,this.select.appendChild(t);this.reload()}}getSource(){for(var e,t=[],n=this.select.children,r=n.length,i=0;i<r;i++)e=n[i],t.push({value:e.value,caption:e.innerText,selected:e.selected});return t}reload(){this.container.remove(),this.create()}_showAllOptions(){this.list.classList.contains("hidden")&&this.list.classList.remove("hidden");for(var e=this._getSearchableLi(this.list),t=e.length,n=0;n<t;n++)e[n].parentElement.classList.remove("hidden")}_createButon(e){var t=document.createElement("button");return t.type="button",t.classList.add("buttonMini-"+e),t.innerHTML=e,t}_getCommonElems(e){var t,n,r,i,s,o,a,l,c=this,d=this.select.children.length,h=document.createElement("UL");for(h.className=this.class.list,h.classList.add(!0===this.settings.orderby?"orderby":"checked"),h.style.width=this.settings.width,h.classList.add("hidden"),this.settings.selectAll&&(a=document.createElement("label"),(l=document.createElement("LI")).classList.add("ignore"),!0===this.settings.orderby?((s=this._createButon("clear")).addEventListener("click",function(){c.selectAll(!1)}),l.appendChild(s)):(s=this._createButon("all"),o=this._createButon("none"),s.addEventListener("click",function(){c.selectAll(!0)}),o.addEventListener("click",function(){c.selectAll(!1)}),l.appendChild(s),l.appendChild(o)),a.appendChild(l),h.appendChild(a)),r=0;r<d;r++)i=this.select.children[r],a=document.createElement("label"),l=document.createElement("LI"),(t=document.createElement("input")).type="checkbox",!0===this.settings.orderby&&(t.classList.add("orderby"),t.setAttribute("order","none")),t.value=i.value,n=document.createTextNode(i.innerText),!0===this.settings.orderby?t.addEventListener("click",function(){switch(this.getAttribute("order")){case"none":this.setAttribute("order","asc");break;case"asc":this.setAttribute("order","desc");break;case"desc":this.setAttribute("order","asc");break;default:this.setAttribute("order","nono")}c.setValue([this.value]),"function"==typeof c.settings.onChange&&c.settings.onChange(this.checked,this.value,c)}):t.addEventListener("click",function(e){this.checked?c.setValue([this.value]):c.removeValue([this.value]),"function"==typeof c.settings.onChange&&c.settings.onChange(this.checked,this.value,c)}),l.appendChild(t),l.appendChild(n),l.className=i.selected?"active":"",t.checked=i.selected,this.data[r]=i.selected,a.appendChild(l),h.appendChild(a);e.appendChild(h),this.list=h}_getSearchableLi(e){return e.querySelectorAll("li:not([class*=ignore])")}_getLi(e,t="label"){return e.querySelectorAll(t)}_getThemeElements(e){var t=document.createElement("span");this._setLogger(t),e.appendChild(t)}_setLogger(e){var t=this;e.style.width=this.settings.width,e.style.height=this.settings.height,e.className=this.class.logger,(this.logger=e).addEventListener("click",function(){t.list.classList.toggle("hidden"),t.logger.classList.toggle("open")})}}var multiSelects={};Array.prototype.forEach.call(document.getElementsByClassName("patrom-multiselect"),function(e){multiSelects[e.id]=new PatromMultiSelect(e)});class JSONViewer{constructor(){this.Object_prototype_toString={}.toString,this.DatePrototypeAsString=this.Object_prototype_toString.call(new Date),this._dom_container=document.createElement("pre"),this._dom_container.classList.add("json-viewer","content"),this._dom_container.addEventListener("click",this.SimulateClickEventListener),this.rootName="none"}setRoot(e){this.rootName=e||"none"}showJSON(e,t,n){t="number"==typeof t?t:-1,n="number"==typeof n?n:-1;this._dom_container.innerHTML="",this.walkJSONTree(this._dom_container,e,t,n,0)}getContainer(){return this._dom_container}SimulateClickEventListener(e){}walkJSONTree(e,d,h,u,g){var t,b,n,r,m,p,i,s=this.Object_prototype_toString.call(d)===this.DatePrototypeAsString,o=!s&&"object"==typeof d&&null!==d&&"toJSON"in d?d.toJSON():d;"object"!=typeof o||null===o||s?e.appendChild(this.createSimpleViewOf(d,s)):(t=0<=h&&h<=g,s=0<=u&&u<=g,o=(b=Array.isArray(o))?o:Object.keys(o),0===g&&(n=this._createItemsCount(o.length),r=this._createLink(b?"[":"{"),o.length?(r.addEventListener("click",function(){t||(r.classList.toggle("collapsed"),n.classList.toggle("hide"),e.querySelector("ul").classList.toggle("hide"))}),s&&(r.classList.add("collapsed"),n.classList.remove("hide"))):r.classList.add("empty"),r.appendChild(n),e.appendChild(r)),o.length&&!t?(m=o.length-1,(p=document.createElement("ul")).setAttribute("data-level",g),p.classList.add("type-"+(b?"array":"object")),o.forEach(function(e,t){var n,r,i,s,o,a,l=b?e:d[e],c=document.createElement("li");"object"==typeof l?!l||l instanceof Date?(c.appendChild(document.createTextNode(b?"":e+": ")),c.appendChild(this.createSimpleViewOf(l||null,!0))):(a=((n=Array.isArray(l))?l:Object.keys(l)).length)?(i=this._createLink(r=("string"==typeof e?e+": ":"")+(n?"[":"{")),s=this._createItemsCount(a),0<=h&&h<=g+1?c.appendChild(document.createTextNode(r)):(i.appendChild(s),c.appendChild(i)),this.walkJSONTree(c,l,h,u,g+1),c.appendChild(document.createTextNode(n?"]":"}")),o=c.querySelector("ul"),i.addEventListener("click",a=function(){i.classList.toggle("collapsed"),s.classList.toggle("hide"),o.classList.toggle("hide")}),0<=u&&u<=g+1&&a()):c.appendChild(document.createTextNode(e+": "+(n?"[]":"{}"))):(b||c.appendChild(document.createTextNode(e+": ")),this.walkJSONTree(c,l,h,u,g+1)),t<m&&c.appendChild(document.createTextNode(",")),p.appendChild(c)},this),e.appendChild(p)):o.length&&t&&((i=_createItemsCount(o.length)).classList.remove("hide"),e.appendChild(i)),0===g&&(o.length||((i=this._createItemsCount(0)).classList.remove("hide"),e.appendChild(i)),e.appendChild(document.createTextNode(b?"]":"}")),s)&&e.querySelector("ul").classList.add("hide"))}isDate(e){return 10===(e=e.slice(0,10)).length&&(/^\d+$/.test(e[2])?/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/:/^[0-9]{2}[\/][0-9]{2}[\/][0-9]{4}$/g).test(e)}isUrl(e){return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#:.?+=&%@!\-/]))?/.test(e)}isExternal(e){return e.toUpperCase().endsWith(".PDF")||e.toUpperCase().endsWith(".HTML")}isCode(e){return e.startsWith("function decode(")}isObject(e){try{return JSON.parse(e),!0}catch(e){return!1}}createSimpleViewOf(e,t){var n=document.createElement("span"),r=typeof e,i=""+e;return"string"===r?(this.isUrl(e)?r=e.includes(this.rootName)?"url-link":this.isExternal(e)?"url-external":"url":this.isDate(e)?r="date":this.isCode(e)?r="code":this.isObject(e)&&(r="json"),i='"'+e+'"'):null===e?r="null":t&&(r="date",i=e.toLocaleString()),n.className="type-"+r,n.textContent=i,n}_createItemsCount(e){var t=document.createElement("span");return t.className="items-ph hide",t.innerHTML=this._getItemsTitle(e),t}_createLink(e){var t=document.createElement("a");return t.classList.add("list-link"),t.href="javascript:void(0)",t.innerHTML=e||"",t}_getItemsTitle(e){return e+" "+(1<e||0===e?"items":"item")}}class ContextMenu{constructor(t,c){var d=this,h=ContextMenu.count++;if(this.menu=t,this.contextTarget=null,!(t instanceof Array))throw new Error("Parameter 1 must be of type Array");if(void 0!==c){if("object"!=typeof c)throw new Error("Parameter 2 must be of type object")}else c={};function u(){d.hide()}window.addEventListener("resize",function(){ContextUtil.getProperty(c,"close_on_resize",!0)&&d.hide()}),this.setOptions=function(e){if("object"!=typeof e)throw new Error("Parameter 1 must be of type object");c=e},this.changeOption=function(e,t){if("string"!=typeof e)throw new Error("Parameter 1 must be of type string");if(void 0===t)throw new Error("Parameter 2 must be set");c[e]=t},this.getOptions=function(){return c},this.reload=function(){null==document.getElementById("patrom-cm-"+h)&&((e=document.createElement("div")).className="patrom-cm-container",e.id="patrom-cm-"+h,document.body.appendChild(e));var e=document.getElementById("patrom-cm-"+h);e.innerHTML="",e.appendChild(function o(e){var a=document.createElement("ul");e.forEach(function(e){var t=document.createElement("li");if(t.menu=d,void 0===e.type){var n=document.createElement("span"),r=(n.className="patrom-cm-text",""!=ContextUtil.getProperty(e,"text","")?n.innerHTML=ContextUtil.getProperty(e,"text",""):n.innerHTML=ContextUtil.getProperty(c,"default_text","item"),document.createElement("span"));if(r.className="patrom-cm-sub_span",void 0!==e.sub&&(""!=ContextUtil.getProperty(c,"sub_icon","")?r.innerHTML=ContextUtil.getProperty(c,"sub_icon",""):r.innerHTML="&#155;"),t.appendChild(n),t.appendChild(r),ContextUtil.getProperty(e,"enabled",!0)){if("object"==typeof e.events)for(var i=Object.keys(e.events),s=0;s<i.length;s++)t.addEventListener(i[s],e.events[i[s]]);void 0!==e.sub&&t.appendChild(o(e.sub))}else t.setAttribute("disabled","")}else e.type==ContextMenu.DIVIDER&&(t.className="patrom-cm-divider");a.appendChild(t)});return a}(t))},this.display=function(e,t){d.contextTarget=void 0!==t?t:e.target;var t=document.getElementById("patrom-cm-"+h),n={x:e.clientX,y:e.clientY},r=n.x,n=n.y,i=t.offsetWidth+4,s=t.offsetHeight+4,o=window.innerWidth,a=window.innerHeight,l=parseInt(ContextUtil.getProperty(c,"mouse_offset",2)),i=(t.style.left=o-r<i?o-i+"px":r+l+"px",t.style.top=a-n<s?a-s+"px":n+l+"px",ContextUtil.getSizes(t));o-r<i.width?t.classList.add("patrom-cm-border_right"):t.classList.remove("patrom-cm-border_right"),a-n<i.height?t.classList.add("patrom-cm-border_bottom"):t.classList.remove("patrom-cm-border_bottom"),t.classList.add("display"),ContextUtil.getProperty(c,"close_on_click",!0)&&window.addEventListener("click",u),e.preventDefault()},this.hide=function(){document.getElementById("patrom-cm-"+h).classList.remove("display"),window.removeEventListener("click",u)},this.reload()}}ContextMenu.count=0,ContextMenu.DIVIDER="patrom-cm-divider";const ContextUtil={getProperty:function(e,t,n){return void 0!==e[t]?e[t]:n},getSizes:function(e){for(var t=e.getElementsByTagName("li"),n=0,r=0,i=0;i<t.length;i++)(a=t[i]).offsetWidth>n&&(n=a.offsetWidth),a.offsetHeight>r&&(r=a.offsetHeight);for(var s=n,o=r,i=0;i<t.length;i++){var a,l=(a=t[i]).getElementsByTagName("ul");void 0!==l[0]&&(n+(l=ContextUtil.getSizes(l[0])).width>s&&(s=n+l.width),r+l.height>o)&&(o=r+l.height)}return{width:s,height:o}}};